# AVATAR OnE 플랫폼 기능명세서 변경사항 (v1.4 → v1.5)

## 변경 개요

v1.5는 Builder 화면의 UX를 전면 개선하여, App 목록 기반 진입 → GUI 기반 App 개발 화면으로의 2-level 네비게이션을 도입합니다.

---

## 1. Builder 화면 구조 변경

### 1.1 App 목록 화면 (신규)

**변경 전 (v1.4):** Builder 진입 시 즉시 빈 App 생성 폼이 표시됨
**변경 후 (v1.5):** Builder 진입 시 기존 App 목록이 먼저 표시됨

| 항목 | 설명 |
|------|------|
| App 카드 | 기존 specs 배열의 각 App을 카드 형태로 표시 |
| 표시 정보 | App 이름, 버전, 상태, Task 수, Component 수, 생성일 |
| 새 App 만들기 | 상단에 "새 App 만들기" 버튼 → 빈 편집 화면 진입 |
| 기존 App 선택 | 카드 클릭 → 해당 App의 편집 화면 진입 |

### 1.2 App 개발 화면 (GUI 기반 개선)

App 목록에서 App을 선택하면 진입하는 개발 화면입니다.

**상단 네비게이션:**
- "← App 목록" 버튼으로 목록 화면 복귀
- App 이름 및 버전 표시

**3개 탭 유지:**
- App 관리 (기본 정보, 환경 변수, Task 목록)
- Task 편집 (Component 추가/삭제, 워크플로우 연결)
- 워크플로우 시각화

---

## 2. 컴포넌트 시각적 노드 UI (개선)

### 2.1 비주얼 노드 카드

**변경 전 (v1.4):** Task 편집 시 컴포넌트가 전체 편집 폼으로 표시됨
**변경 후 (v1.5):** 컴포넌트가 시각적 노드 카드로 그리드 표시, 클릭하여 상세 편집

| 기능 | 설명 |
|------|------|
| 노드 카드 | 각 컴포넌트를 컴팩트 카드로 표시 (이름, 순서, GPU 정보, 상태 배지) |
| 상세 편집 | ✎ 버튼 클릭 → 상세 편집 패널 펼침/접기 |
| IN/OUT 배지 | 워크플로우 연결 상태를 노드에 직접 표시 |
| 삭제 | × 버튼으로 컴포넌트 삭제 |

### 2.2 화살표 버튼 기반 워크플로우 연결 (신규)

**변경 전 (v1.4):** From/To 드롭다운 선택 → "추가" 버튼
**변경 후 (v1.5):** 각 노드의 → 화살표 버튼으로 직접 연결 생성

| 기능 | 설명 |
|------|------|
| 화살표 버튼 | 각 컴포넌트 노드에 → 버튼 표시 |
| 소스 선택 | → 버튼 클릭 → 해당 노드를 소스로 지정 (하이라이트 표시) |
| 타겟 선택 | 다른 노드 클릭 → 타겟으로 지정, 연결 즉시 생성 |
| 연결 취소 | "취소" 버튼 또는 소스 노드의 → 버튼 다시 클릭 |
| 연결 삭제 | 연결 목록에서 × 버튼 클릭으로 삭제 |
| 시각적 피드백 | 소스 선택 시 노드 하이라이트, 타겟 후보 노드 강조 |
| 순환 참조 방지 | 기존 v1.4와 동일한 cycle detection 적용 |
| 연결 목록 | 하단에 현재 워크플로우 연결 목록 표시 |

---

## 3. 기존 App 편집 기능 (신규)

### 3.1 App 수정

- 기존 App의 이름, 버전, 환경 변수, Task 구성을 수정 가능
- specs 상태 배열의 해당 App을 직접 업데이트

### 3.2 App 상태 표시

| 상태 | 설명 |
|------|------|
| ready | 준비됨 — 테스트/학습 요청 가능 |
| draft | 작성 중 — 편집 진행 중 |

---

## 4. 버전 표시

- 헤더: v1.4 → v1.5
- 홈페이지 워크플로우: "v1.5 워크플로우"

---

## 5. 영향 범위

| 구성 요소 | 변경 유형 |
|-----------|----------|
| BuilderPage | 대폭 개선 (App 목록 + 편집 2-level) |
| WorkflowDiagram | 인터랙티브 연결 모드 추가 |
| App (main) | updateSpec 콜백 추가 |
| 버전 표시 | v1.4 → v1.5 |
| Playwright 테스트 | Builder 관련 테스트 업데이트 |
